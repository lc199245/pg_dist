(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"14J3":function(d,s,e){"use strict";var n=e("cIOH"),_=e.n(n),c=e("1GLa")},BMrR:function(d,s,e){"use strict";var n=e("qrJ5");s.a=n.a},Q9mQ:function(d,s,e){"use strict";var n=e("cIOH"),_=e.n(n),c=e("UADf"),P=e.n(c)},UADf:function(d,s,e){},bogI:function(d,s,e){"use strict";e.d(s,"a",function(){return n});var n=function(c){if(!c)return null;var P=typeof c=="function";return P?c():c}},diRs:function(d,s,e){"use strict";var n=e("wx14"),_=e("q1tI"),c=e.n(_),P=e("3S7+"),j=e("H84U"),I=e("bogI"),b=function(l,D){var g={};for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&D.indexOf(o)<0&&(g[o]=l[o]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(l);u<o.length;u++)D.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(l,o[u])&&(g[o[u]]=l[o[u]]);return g},R=_.forwardRef(function(l,D){var g=l.prefixCls,o=l.title,u=l.content,p=b(l,["prefixCls","title","content"]),x=_.useContext(j.b),O=x.getPrefixCls,S=function(M){return _.createElement(_.Fragment,null,o&&_.createElement("div",{className:"".concat(M,"-title")},Object(I.a)(o)),_.createElement("div",{className:"".concat(M,"-inner-content")},Object(I.a)(u)))},y=O("popover",g);return _.createElement(P.a,Object(n.a)({},p,{prefixCls:y,ref:D,overlay:S(y)}))});R.displayName="Popover",R.defaultProps={placement:"top",transitionName:"zoom-big",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}},s.a=R},jCWc:function(d,s,e){"use strict";var n=e("cIOH"),_=e.n(n),c=e("1GLa")},kPKH:function(d,s,e){"use strict";var n=e("/kpp");s.a=n.a},qq80:function(d,s,e){"use strict";e.r(s);var n=e("14J3"),_=e("BMrR"),c=e("+L6B"),P=e("2/Rp"),j=e("jCWc"),I=e("kPKH"),b=e("Q9mQ"),R=e("diRs"),l=e("MXD1"),D=e("CFYs"),g=e("k1fw"),o=e("miYZ"),u=e("tsqr"),p=e("tJVT"),x=e("5NDa"),O=e("5rEg"),S=e("OaEy"),y=e("2fM7"),Y=e("y8nQ"),M=e("Vl3Y"),f=e("q1tI"),t=e.n(f),a=e("9kvl"),$=e("uYtH"),X=e("sYde"),E=e.n(X),C=M.a.Item,F=y.a.Option,Z=O.a.Group,k={ok:t.a.createElement("div",{className:E.a.success},t.a.createElement(a.a,{id:"userandregister.strength.strong"})),pass:t.a.createElement("div",{className:E.a.warning},t.a.createElement(a.a,{id:"userandregister.strength.medium"})),poor:t.a.createElement("div",{className:E.a.error},t.a.createElement(a.a,{id:"userandregister.strength.short"}))},q={ok:"success",pass:"normal",poor:"exception"},ee=function(A){var B=A.submitting,te=A.dispatch,L=A.userAndregister,re=Object(f.useState)(0),w=Object(p.a)(re,2),T=w[0],N=w[1],ae=Object(f.useState)(!1),z=Object(p.a)(ae,2),W=z[0],J=z[1],se=Object(f.useState)("86"),V=Object(p.a)(se,2),H=V[0],ne=V[1],_e=Object(f.useState)(!1),G=Object(p.a)(_e,2),oe=G[0],le=G[1],ie=!1,K,de=M.a.useForm(),ce=Object(p.a)(de,1),v=ce[0];Object(f.useEffect)(function(){if(!!L){var m=v.getFieldValue("mail");L.status==="ok"&&(u.default.success("\u6CE8\u518C\u6210\u529F\uFF01"),a.e.push({pathname:"/user/register-result",state:{account:m}}))}},[L]),Object(f.useEffect)(function(){return function(){clearInterval(K)}},[]);var ue=function(){var r=59;N(r),K=window.setInterval(function(){r-=1,N(r),r===0&&clearInterval(K)},1e3)},Q=function(){var r=v.getFieldValue("password");return r&&r.length>9?"ok":r&&r.length>5?"pass":"poor"},Ee=function(r){te({type:"userAndregister/submit",payload:Object(g.a)(Object(g.a)({},r),{},{prefix:H})})},me=function(r,i){var h=Promise;return i&&i!==v.getFieldValue("password")?h.reject(Object(a.d)({id:"userandregister.password.twice"})):h.resolve()},ge=function(r,i){var h=Promise;return i?(W||J(!!i),le(!oe),i.length<6?h.reject(""):(i&&ie&&v.validateFields(["confirm"]),h.resolve())):(J(!!i),h.reject(Object(a.d)({id:"userandregister.password.required"})))},Oe=function(r){ne(r)},ve=function(){var r=v.getFieldValue("password"),i=Q();return r&&r.length?t.a.createElement("div",{className:E.a["progress-".concat(i)]},t.a.createElement(D.a,{status:q[i],className:E.a.progress,strokeWidth:6,percent:r.length*10>100?100:r.length*10,showInfo:!1})):null};return t.a.createElement("div",{className:E.a.main},t.a.createElement("h3",null,t.a.createElement(a.a,{id:"userandregister.register.register"})),t.a.createElement(M.a,{form:v,name:"UserRegister",onFinish:Ee},t.a.createElement(C,{name:"mail",rules:[{required:!0,message:Object(a.d)({id:"userandregister.email.required"})},{type:"email",message:Object(a.d)({id:"userandregister.email.wrong-format"})}]},t.a.createElement(O.a,{size:"large",placeholder:Object(a.d)({id:"userandregister.email.placeholder"})})),t.a.createElement(R.a,{getPopupContainer:function(r){return r&&r.parentNode?r.parentNode:r},content:W&&t.a.createElement("div",{style:{padding:"4px 0"}},k[Q()],ve(),t.a.createElement("div",{style:{marginTop:10}},t.a.createElement(a.a,{id:"userandregister.strength.msg"}))),overlayStyle:{width:240},placement:"right",visible:W},t.a.createElement(C,{name:"password",className:v.getFieldValue("password")&&v.getFieldValue("password").length>0&&E.a.password,rules:[{validator:ge}]},t.a.createElement(O.a,{size:"large",type:"password",placeholder:Object(a.d)({id:"userandregister.password.placeholder"})}))),t.a.createElement(C,{name:"confirm",rules:[{required:!0,message:Object(a.d)({id:"userandregister.confirm-password.required"})},{validator:me}]},t.a.createElement(O.a,{size:"large",type:"password",placeholder:Object(a.d)({id:"userandregister.confirm-password.placeholder"})})),t.a.createElement(Z,{compact:!0},t.a.createElement(y.a,{size:"large",value:H,onChange:Oe,style:{width:"20%"}},t.a.createElement(F,{value:"86"},"+86"),t.a.createElement(F,{value:"87"},"+87")),t.a.createElement(C,{style:{width:"80%"},name:"mobile",rules:[{required:!0,message:Object(a.d)({id:"userandregister.phone-number.required"})},{pattern:/^\d{11}$/,message:Object(a.d)({id:"userandregister.phone-number.wrong-format"})}]},t.a.createElement(O.a,{size:"large",placeholder:Object(a.d)({id:"userandregister.phone-number.placeholder"})}))),t.a.createElement(_.a,{gutter:8},t.a.createElement(I.a,{span:16},t.a.createElement(C,{name:"captcha",rules:[{required:!0,message:Object(a.d)({id:"userandregister.verification-code.required"})}]},t.a.createElement(O.a,{size:"large",placeholder:Object(a.d)({id:"userandregister.verification-code.placeholder"})}))),t.a.createElement(I.a,{span:8},t.a.createElement(P.a,{size:"large",disabled:!!T,className:E.a.getCaptcha,onClick:ue},T?"".concat(T," s"):Object(a.d)({id:"userandregister.register.get-verification-code"})))),t.a.createElement(C,null,t.a.createElement(P.a,{size:"large",loading:B,className:E.a.submit,type:"primary",htmlType:"submit"},t.a.createElement(a.a,{id:"userandregister.register.register"})),t.a.createElement($.a,{className:E.a.login,to:"/user/login"},t.a.createElement(a.a,{id:"userandregister.register.sign-in"})))))};s.default=Object(a.c)(function(U){var A=U.userAndregister,B=U.loading;return{userAndregister:A,submitting:B.effects["userAndregister/submit"]}})(ee)},sYde:function(d,s,e){d.exports={main:"main___2kx2N",password:"password___2JDrd",getCaptcha:"getCaptcha___1oboe",submit:"submit___34wM2",login:"login___1qBuj",success:"success___3hl98",warning:"warning___2i2r2",error:"error___3JfQo","progress-pass":"progress-pass___BM1Xu",progress:"progress___2s68u"}}}]);
